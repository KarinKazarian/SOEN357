(this["webpackJsonptime-saver"]=this["webpackJsonptime-saver"]||[]).push([[0],{508:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(82),i=n.n(c),s=n(36),o=n.n(s),b=n(75),l=n(136),u=n(8),f=n(83),d=n(134),j=n(301),h=n(551),p=n(558),x=n(563),O=n(541),g=n(556),v=n(559),m=n(543),k=n(550),w=n(65);var y,_,S,C,D,z=function(){var e=Object(a.useState)({width:void 0,height:void 0}),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n},A=n(533),E=n(565),R=n(304),F=n(285),T=n(5),M=function(e){var t=e.data,n=z();return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(A.a,{width:"70%",height:"auto",aspect:1.5,children:Object(T.jsxs)(E.a,{cx:"70%",cy:"50%",innerRadius:"90%",outerRadius:"100%",barSize:3,data:t,startAngle:230,endAngle:-50,children:[Object(T.jsx)(R.a,{type:"number",domain:[0,100],angleAxisId:0,tick:!1}),Object(T.jsx)(F.a,{background:!0,clockWise:!0,dataKey:"live",cornerRadius:n.width/8,fill:"#82ca9d"}),Object(T.jsxs)("text",{x:"70%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",className:"progress-label",children:[t[0].live,"%"]})]})})})},J=n(545),L=n(546),W=n(292),B=n(293),I=n(140),H=n(135),V=n(305),Y=n(560),K=n(542),N=n(303),P=n(544),G=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Q=Object(w.a)(Y.c)(y||(y=Object(f.a)(["\n  &:hover {\n    background-color: #bdb3f7;\n  }\n"]))),Z=function(e){var t=e.data,n=Object(a.useState)((function(){var e=(new Date).getDay();return 0==e?6:e-1})),r=Object(u.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(),o=Object(u.a)(s,2),b=o[0],l=o[1];return Object(a.useEffect)((function(){if(null!=t&&0!==t.length&&null!=t[c]){for(var e=[],n=0;n<t[c].length;n++)e.push({hour:n,busyness:t[c][n]});l(e)}else l([])}),[t,c]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(O.a,{height:"50px",children:[Object(T.jsx)(K.a,{}),Object(T.jsx)(m.a,{fontSize:"sm",children:G[c]}),Object(T.jsx)(K.a,{}),Object(T.jsxs)(Y.a,{focusBorderColor:"#8070da",placement:"left",autoSelect:!1,children:[Object(T.jsx)(Y.b,{as:N.a,bg:"#ffffff",_focus:{bg:"#ffffff"},_hover:{bg:"#ffffff"},_active:{bg:"#ffffff"},size:"xs",children:Object(T.jsx)(P.a,{})}),Object(T.jsxs)(Y.d,{children:[Object(T.jsx)(Q,{onClick:function(){return i(0)},children:G[0]}),Object(T.jsx)(Q,{onClick:function(){return i(1)},children:G[1]}),Object(T.jsx)(Q,{onClick:function(){return i(2)},children:G[2]}),Object(T.jsx)(Q,{onClick:function(){return i(3)},children:G[3]}),Object(T.jsx)(Q,{onClick:function(){return i(4)},children:G[4]}),Object(T.jsx)(Q,{onClick:function(){return i(5)},children:G[5]}),Object(T.jsx)(Q,{onClick:function(){return i(6)},children:G[6]})]})]})]}),Object(T.jsx)(A.a,{width:"100%",height:"auto",aspect:2,children:Object(T.jsxs)(J.a,{width:500,height:400,data:b,children:[Object(T.jsx)(L.a,{strokeDasharray:"3 3"}),Object(T.jsx)(W.a,{dataKey:"hour",label:{value:"Hour",position:"insideBottom",dy:10}}),Object(T.jsx)(B.a,{label:{value:"Percentage",angle:-90,position:"insideRightTop",dx:-10}}),Object(T.jsx)(I.a,{}),Object(T.jsx)(H.a,{verticalAlign:"top"}),Object(T.jsx)(V.a,{dataKey:"busyness",fill:"#8070da"})]})})]})},X=n(548),q=n(549),U=Object(w.a)(g.a)(_||(_=Object(f.a)(["\n  background: rgba(255, 255, 255, 0.25);\n  box-shadow: 0 8px 20px 0 rgba(31, 38, 135, 0.37);\n  backdrop-filter: blur(4px);\n  -webkit-backdrop-filter: blur(4px);\n  border-radius: 10px;\n  border: 1px solid rgba(255, 255, 255, 0.18);\n  display: inline-block;\n"]))),$=function(e){var t=e.liveData,n=e.buynessData,r=[{live:t,fill:"#8884d8"}],c=Object(a.useState)([]),i=Object(u.a)(c,2),s=i[0],o=i[1];return Object(a.useEffect)((function(){if(null!=n&&0!==n.length){var e=[];n.map((function(t){e[t.day_info.day_int]=t.day_raw})),o(e)}}),[n]),Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(x.b,{spacing:"18px",height:"50%",children:[Object(T.jsxs)(U,{width:"100%",children:[Object(T.jsx)(O.a,{children:"Live Traffic"}),Object(T.jsx)(M,{data:r}),Object(T.jsxs)(v.a,{placement:"top-start",children:[Object(T.jsx)(v.g,{children:Object(T.jsx)(X.a,{"aria-label":"info",icon:Object(T.jsx)(q.a,{}),bg:"#ffffff",_focus:{bg:"#ffffff"},_hover:{bg:"#ffffff"},_active:{bg:"#ffffff"},size:"xs"})}),Object(T.jsxs)(v.e,{height:"150px",overflow:"auto",_focus:{bg:"#ffffff"},children:[Object(T.jsx)(v.b,{}),Object(T.jsx)(v.d,{}),Object(T.jsx)(v.f,{children:"Live Data Definition"}),Object(T.jsx)(v.c,{children:"Live busyness at the venue for current, based on the weekly forecast. Ranging from 0 to 200 percent. In most cases the live percentage will be 100% or lower. However if the value is above 100% it means it is more busy than the highest forecasted peak of the week. E.g. 200% meaning it is two times more busy than the normal forecasted peak of the week."})]})]})]}),Object(T.jsxs)(U,{width:"100%",paddingRight:"15px",children:[Object(T.jsx)(O.a,{children:"Busy Hours"}),Object(T.jsx)(Z,{data:s}),Object(T.jsxs)(v.a,{placement:"top-start",children:[Object(T.jsx)(v.g,{children:Object(T.jsx)(X.a,{"aria-label":"info",icon:Object(T.jsx)(q.a,{}),bg:"#ffffff",_focus:{bg:"#ffffff"},_hover:{bg:"#ffffff"},_active:{bg:"#ffffff"},size:"xs"})}),Object(T.jsxs)(v.e,{height:"150px",overflow:"auto",_focus:{bg:"#ffffff"},children:[Object(T.jsx)(v.b,{}),Object(T.jsx)(v.d,{}),Object(T.jsx)(v.f,{children:"Busy Hours Definition"}),Object(T.jsx)(v.c,{children:"Percentages are based on historical visits for the given hour, relative to the biggest peak of the week for this venue."})]})]})]}),Object(T.jsx)(g.a,{children:Object(T.jsxs)(m.a,{fontSize:"xs",children:["Data Taken From: ",Object(T.jsx)(k.a,{children:"https://besttime.app/"})]})})]})})},ee=n(212),te=n.n(ee),ne="https://besttime.app/api/v1/forecasts",ae=function(){var e=Object(b.a)(o.a.mark((function e(t){var n,a,r,c,i,s=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},a=s.length>2&&void 0!==s[2]?s[2]:{},r=s.length>3?s[3]:void 0,c={method:t,url:"".concat(ne,"/").concat(r),data:n,params:a},e.next=6,te()(c);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(b.a)(o.a.mark((function e(t){var n,a,r,c,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},a=i.length>2&&void 0!==i[2]?i[2]:{},r={method:t,url:"".concat(ne),data:n,params:a},e.next=5,te()(r);case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(b.a)(o.a.mark((function e(){var t,n=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.abrupt("return",re("post","",t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(b.a)(o.a.mark((function e(){var t,n=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.abrupt("return",ae("post","",t,"live"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=n(302),oe=n(513),be=Object(w.a)(h.a)(S||(S=Object(f.a)(["\n  background: rgba(255, 255, 255, 0.25);\n  box-shadow: 0 8px 20px 0 rgba(31, 38, 135, 0.37);\n  backdrop-filter: blur(4px);\n  -webkit-backdrop-filter: blur(4px);\n  border-radius: 10px;\n  border: 1px solid rgba(255, 255, 255, 0.18);\n  display: inline-block;\n"]))),le=function(){var e=z(),t="pk.eyJ1Ijoia2FyaW4ta2F6YXJpYW4iLCJhIjoiY2tteWVjMnFpMDM4MTJubWYycTJ5N3Q5ZCJ9.Of9brpnQ8Oc-LGZ6P1ArrA",n=Object(a.useState)({latitude:45.4644455,longitude:-73.745181,zoom:8}),r=Object(u.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)({latitude:45.4644455,longitude:-73.745181}),f=Object(u.a)(s,2),g=f[0],v=f[1],m=Object(a.useState)(0),k=Object(u.a)(m,2),w=k[0],y=k[1],_=Object(a.useState)([]),S=Object(u.a)(_,2),C=S[0],D=S[1],A=Object(a.useRef)(),E=Object(a.useRef)(),R=Object(p.a)(),F=Object(a.useCallback)((function(e){return i(e)}),[]),M=Object(a.useCallback)((function(e){return F(Object(l.a)(Object(l.a)({},e),{transitionDuration:1e3}))}),[F]),J=function(){var e=Object(b.a)(o.a.mark((function e(t,n){var a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie({api_key_private:"pri_7b5f18965b7d46a5b708eeee58fc2354",venue_address:n,venue_name:t});case 3:if("Error"===(a=e.sent).data.status){e.next=9;break}c=null===a||void 0===a||null===(r=a.data.analysis)||void 0===r?void 0:r.venue_live_busyness,y(c),e.next=10;break;case 9:throw a.data;case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),y(0),R({title:"Error",description:e.t0.message,status:"error",duration:5e3,isClosable:!0});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(b.a)(o.a.mark((function e(t,n){var a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce({api_key_private:"pri_7b5f18965b7d46a5b708eeee58fc2354",venue_address:n,venue_name:t});case 3:if("Error"===(a=e.sent).data.status){e.next=9;break}c=null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.analysis,D(c),e.next=11;break;case 9:throw D([]),a.data;case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),y(0),R({title:"Error",description:e.t0.message,status:"error",duration:5e3,isClosable:!0});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}(),W=function(){var e=Object(b.a)(o.a.mark((function e(t){var n,a,r,c,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=B(t),c=Object(u.a)(r,2),i=c[0],s=c[1],i&&s){e.next=3;break}return e.abrupt("return");case 3:L(i,s),J(i,s),v({longitude:null===(n=t.result.center)||void 0===n?void 0:n[0],latitude:null===(a=t.result.center)||void 0===a?void 0:a[1]});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e){var t=e.result.place_name;return null!=t?[t.slice(0,t.indexOf(",")),t.substring(t.indexOf(",")+1)]:["",""]};return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(x.a,{spacing:"5px",children:[Object(T.jsxs)(be,{alignSelf:"baseline",w:"35%",resize:"horizontal",overflow:"scroll",h:e.height-96,children:[Object(T.jsx)(O.a,{children:Object(T.jsx)("div",{ref:E,style:{height:50,display:"flex",alignItems:"center",paddingLeft:4}})}),Object(T.jsx)($,{liveData:w,buynessData:C})]}),Object(T.jsx)(h.a,{w:"90%",h:e.height-96,children:Object(T.jsxs)(d.c,Object(l.a)(Object(l.a)({ref:A},c),{},{height:"100%",width:"100%",mapboxApiAccessToken:t,mapStyle:"mapbox://styles/karin-kazarian/ckmyepr931r7317prtkdbrhj1",onViewportChange:F,children:[Object(T.jsx)(d.b,{latitude:g.latitude,longitude:g.longitude,children:Object(T.jsx)(oe.a,{color:"black",as:se.a,w:8,h:8})}),Object(T.jsx)(j.a,{mapRef:A,containerRef:E,onViewportChange:M,mapboxApiAccessToken:t,onResult:W})]}))})]})})},ue=n(553),fe=n(564),de=n.p+"static/media/logo.b6a5af5e.png",je=Object(w.a)(ue.a)(C||(C=Object(f.a)(["\n  font-family: Verdana, Geneva, sans-serif;\n  font-size: 27px;\n  letter-spacing: 3px;\n  word-spacing: 2px;\n  color: #000000;\n  font-weight: 400;\n  text-decoration: none;\n  font-style: normal;\n  font-variant: normal;\n  text-transform: uppercase;\n  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.1),\n    1px 1px 1px rgba(0, 0, 0, 0.5);\n"]))),he=Object(w.a)(O.a)(D||(D=Object(f.a)(["\n  margin-bottom: 10px;\n  padding: 40px;\n  background: rgba(235, 216, 247, 0.25);\n  background: rgba(255, 255, 255, 0.25);\n  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);\n  backdrop-filter: blur(4px);\n  -webkit-backdrop-filter: blur(4px);\n"]))),pe=function(){var e=z();return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(he,{height:.03*e.height,children:[Object(T.jsx)(je,{children:"Time Saver "}),Object(T.jsx)(fe.a,{src:de,alt:"time logo",height:64.5})]})})},xe=function(){return Object(T.jsxs)("div",{className:"App",children:[Object(T.jsx)(pe,{}),Object(T.jsx)(K.a,{}),Object(T.jsx)(le,{})]})},Oe=n(562),ge=n(554),ve=n(552),me=Object(ve.a)({sm:"40em",md:"52em",lg:"64em",xl:"80em"}),ke=Object(ge.a)({colors:{black:"#16161D",blue:{50:"#dcf3ff",100:"#aed7ff",200:"#7dbdff",300:"#4aa2ff",400:"#1a87ff",500:"#006ee6",600:"#0055b4",700:"#003d82",800:"#002551",900:"#000d21"},green:{50:"#e4fced",100:"#c2edd4",200:"#9edfb9",300:"#79d29e",400:"#55c684",500:"#3bac6a",600:"#2d8652",700:"#1e6039",800:"#0e3a21",900:"#001507"}},fonts:{mono:"'Menlo', monospace"},breakpoints:me,initialColorMode:"light",useSystemColorMode:!1});i.a.render(Object(T.jsx)(r.a.StrictMode,{children:Object(T.jsx)(Oe.a,{resetCSS:!0,theme:ke,children:Object(T.jsx)(xe,{})})}),document.getElementById("root"))}},[[508,1,2]]]);
//# sourceMappingURL=main.81d156c8.chunk.js.map